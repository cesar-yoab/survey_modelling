---
title: "Monthly Canadian Election Poll"
author: "Cesar Y. Villarreal Guzman"
date: "03/10/2020"
output: pdf_document
---

```{r, include=FALSE}
# bibliography: bib.bibtex
## Libraries and initial values
library(tidyverse)

data <- read.csv("survey_data.csv")
```


# Executive Summary
In this experiment we conduct a simulation based study on a survey which aims
to quantify the impact of the second wave of the COVID-19 pandemic on the
political views of Canadian's. 

# Introduction


# Survey Methodology
The objective of the survey is to analyze the impact of the incoming COVID-19
second wave on Canada's population political views. 

The population to be sampled will be the Canadian population. Provided access to
a list of addresses and corresponding emails which will be used as a frame for
this experiment, we generate $\mathbf{S}_h$ by stratified simple random 
sampling (SRSWOR).

```{r, echo=FALSE}
# Generate table of frequencies
strat.sizes <- table(data$Province)

# Extract information from .txt file
provinces <- read_lines(file = "./scripts/provinces.txt")

# Split string by "Province Name : Population"
provinces <- strsplit(provinces, ":")

# Generate stratum sample sizes
N <- as.numeric(provinces[[1]][2]); n <- 10000
W_h <- c(); prov <- c(); sizes <- c()

# Calculates n_h for each province
for( i in 2:14) {
  W_h <- c(W_h, as.numeric(provinces[[i]][2]) / N)
  p <- gsub('[0-9]+', '', provinces[[i]][1])
  prov <- c(prov, p)
  sizes <- c(sizes, strat.sizes[[p]])
}

stratum <- data.frame(province = prov, weights = W_h, size = sizes)

knitr::kable(stratum, caption = "Stratum Sizes and Weights", align = "lcr",
      col.names = c("Province", "Stratum Weight", "Stratum Sample Size"), digits = 3)
```


We seek a 95% confidence accuracy in this study. 


# Results and Discussion

# References

# Apendix

```{r, include =FALSE}
#### CLEAN UP
rm(list = ls())
```

